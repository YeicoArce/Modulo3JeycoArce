pipeline {
    agent any
    stages {
        stage('Newman test') {
            steps {
                bat '''
                node --version
                npm install -g newman
                cd Modulo3JeycoArce/ci
                newman run ProyectoJeycoArce.postman_collection.json 
                '''
            }
        }
        stage ('RestAssured con maven') {
            steps {
                git url: 'https://github.com/YeicoArce/Modulo3JeycoArce/tree/main/RestAssured'
                withMaven {
                bat "mvn clean verify"
                } // withMaven will discover the generated Maven artifacts, JUnit Surefire & FailSafe reports and FindBugs reports
            }
        }
        stage('RestAssured test pipeline') {
            steps {
                bat '''
                cd RestAssured
                mvn clean install 
                '''
            }
        }
       
    }
}